<core:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"
	xmlns:l="sap.ui.layout" xmlns="sap.m" controllerName="bwm.view.InvitationDetail"
	xmlns:html="http://www.w3.org/1999/xhtml">
	<Page title="Invitation Detail" showNavButton="true"
		navButtonPress="onNavButtonPressed">
		<headerContent>
			<Button icon="sap-icon://discussion" press="onNavToChat" />
		</headerContent>
		<VBox>
			<items>
				<core:Fragment fragmentName="bwm.fragment.InvitationOverview"
					type="XML" />
			</items>
		</VBox>
		<!-- <Carousel class="sapUiContentPadding" loop="true" width= "100%" height="20em"> 
			<pages> <Image src="image\IMG_2218.JPG" densityAware="true" height = "20em" 
			width ="100%"> </Image> <Image src="image\IMG_2220.JPG" densityAware="true" 
			height = "20em" width ="100%"> <layoutData> <FlexItemData growFactor="1" 
			/> </layoutData> </Image> </pages> </Carousel> -->
		<!-- <Bar> <contentLeft> <core:Icon src="sap-icon://map" class="size1" 
			color="#031E48" > <core:layoutData> <FlexItemData growFactor="1" /> </core:layoutData> 
			</core:Icon> <Label text="Huaihai Road, GAP" textAlign="left"></Label> </contentLeft> 
			</Bar> -->
		<Bar binding="{path: 'Categroy'}">
			<contentLeft>
				<core:Icon src="sap-icon://grid" class="size1" color="#031E48">
					<!-- <core:layoutData> <FlexItemData growFactor="1" /> </core:layoutData> -->
				</core:Icon>
			</contentLeft>
			<contentMiddle>
				<Label text="{description}"></Label>
			</contentMiddle>
		</Bar>
		<Bar>
			<contentLeft>
				<core:Icon src="sap-icon://simple-payment" class="size1"
					color="#031E48">
					<core:layoutData>
						<FlexItemData growFactor="1" />
					</core:layoutData>
				</core:Icon>
			</contentLeft>
			<contentMiddle>
				<!-- <Label id="discountType" text="{ parts: [ {path:'total_quantity'}, 
					{path:'discount'}, {path:'DiscountType/dis_category'} ], formatter:'discountFormatter' 
					}"></Label> -->
				<Label
					text="Buy {total_quantity} {= ${DiscountType/dis_category} === '01' ? ('Return '+ ${discount} ): ('PCs '+ (${discount}*100)+'%'+' Off')}">
				</Label>
			</contentMiddle>
		</Bar>

		<GrowingList threshold="10" triggerText="more"
			scrollToLoad="true" items="{ path: 'InvitationItems' }">
			<items>
				<CustomListItem class="sapUiTinyMarginBottom">
					<content>
						<HBox>
							<items>
								<HBox width="190px">
									<items>
										<core:Fragment fragmentName="bwm.fragment.Joiner"
											type="XML" />
									</items>
								</HBox>
								<HBox>
								<Button icon ="sap-icon://outgoing-call" 
								        press = "callOut">
								</Button>
								</HBox>
								<VBox>
									<items>
										<Label text=" {quantity} PCs {money} RMB" design="Bold"
											class="sapUiTinyMarginTop"
											textAlign="Left" />
										<Label text=" Disc. Price {money} RMB" design="Bold"
											class="sapUiTinyMarginTop"
											textAlign="Left" />
									</items>
								</VBox>
							</items>
						</HBox>
					</content>
				</CustomListItem>
			</items>
		</GrowingList>
		<VBox>
		<Toolbar class="sapUiMediumMarginTop">
			<Text text="I Want"></Text>
			<Input id="itemQuantity" value="10" width="80px" textAlign="Center"
				fieldWidth="60%" />
			<Text text="PC"></Text>
			<Input id="itemCost" value="100.00" width="80px" textAlign="Center"
				fieldWidth="60%" liveChange="onChangeValue" />
			<Text text="RMB"></Text>
		</Toolbar>
		</VBox>
		<Bar>
		<contentLeft>
		<Text text="Discount Price"/>
		<Text id="actualCost" width="80px" textAlign="Left"
				fieldWidth="60%" />
		<Text text="RMB"></Text>
		</contentLeft>
		</Bar>
		<footer>
			<Toolbar class="sapUiMediumMarginTop">
				<Button icon="sap-icon://add-activity-2" press="onJoinInvitation" />
				<ToolbarSpacer />
				<Button icon="sap-icon://unfavorite" activeIcon="sap-icon://favorite" press="onFavorite"/>
				<ToolbarSpacer />
				<Button icon="sap-icon://globe" press="onNavToMap" />
				<ToolbarSpacer />
				<Button icon="sap-icon://share-2" />
			</Toolbar>
		</footer>
	</Page>
</core:View>